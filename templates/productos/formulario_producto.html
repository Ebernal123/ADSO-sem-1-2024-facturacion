{% extends 'base.html' %}

{% block contenido %}
<div class="container mt-4">
  <h2>{{ 'Editar Producto' if producto else 'Nuevo Producto' }}</h2>

  <form method="POST" action="{% if producto %}{{ url_for('producto_bp.editar_producto', codigo=producto.codigo) }}{% else %}{{ url_for('producto_bp.guardar_producto') }}{% endif %}">
    <div class="mb-3">
      <label for="codigo" class="form-label">Código del Producto</label>
      {% if producto %}
        <input type="text" class="form-control" id="codigo" name="codigo" value="{{ producto.codigo }}" readonly>
      {% else %}
        <input type="text" class="form-control" id="codigo" name="codigo" required>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre del Producto</label>
      <input type="text" class="form-control" id="nombre" name="nombre" value="{{ producto.nombre if producto else '' }}" required>
    </div>

    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción</label>
      <textarea class="form-control" id="descripcion" name="descripcion" rows="3" required>{{ producto.descripcion if producto else '' }}</textarea>
    </div>

    <div class="mb-3">
      <label for="precio" class="form-label">Precio</label>
      <input type="number" class="form-control" id="precio" name="precio" min="0.01" step="0.01" value="{{ producto.precio if producto else '' }}" required>
    </div>

    <button type="submit" class="btn btn-primary">{{ 'Actualizar' if producto else 'Guardar Producto' }}</button>
    <a href="{{ url_for('producto_bp.lista_productos') }}" class="btn btn-secondary">Volver</a>
  </form>
</div>
{% endblock %}

